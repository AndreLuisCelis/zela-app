<div
  class="bg-white border border-gray-100 rounded-[2.5rem] p-6 shadow-sm mb-6 hover:shadow-md transition-shadow"
>
  <div class="flex items-center justify-between mb-4">
    <span
      class="text-[10px] font-black text-blue-500 bg-blue-50 px-3 py-1 rounded-full uppercase tracking-widest"
    >
      {{ report().category }}
    </span>
    <span class="text-[10px] font-bold text-gray-400 uppercase tracking-tighter">H√° 2 horas</span>
  </div>

  <h3 class="text-lg font-black text-slate-800 uppercase italic mb-1">{{ report().title }}</h3>
  <p class="text-xs text-gray-500 mb-4 line-clamp-2 leading-relaxed">{{ report().description }}</p>

  <!-- Carousel com Setas -->
  <div class="relative group mb-4">
    <div
      #scrollContainer
      (scroll)="onScroll($event)"
      class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory scroll-smooth"
    >
      @for (img of report().photos; track $index) {
        <div
          class="flex-shrink-0 w-full aspect-video bg-slate-100 rounded-3xl overflow-hidden shadow-inner snap-center"
        >
          <img [src]="img" class="w-full h-full object-cover" />
        </div>
      }
    </div>
    <div
      class="absolute bottom-10 left-4 bg-white/80 backdrop-blur-md px-3 py-1 rounded-full text-[9px] font-bold flex items-center gap-1"
    >
      üìç {{ report().location }}
    </div>

    <!-- Setas de Navega√ß√£o -->
    @if (report().photos.length > 1) {
      <button
        (click)="scrollPrev()"
        class="absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-white/90 backdrop-blur rounded-full flex items-center justify-center shadow-lg text-slate-800 opacity-0 group-hover:opacity-100 transition-opacity"
      >
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-width="3" d="M15 19l-7-7 7-7" />
        </svg>
      </button>
      <button
        (click)="scrollNext()"
        class="absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-white/90 backdrop-blur rounded-full flex items-center justify-center shadow-lg text-slate-800 opacity-0 group-hover:opacity-100 transition-opacity"
      >
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-width="3" d="M9 5l7 7-7 7" />
        </svg>
      </button>

      <!-- Indicadores -->
      <div
        class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 px-2 py-1 bg-black/20 backdrop-blur-md rounded-full"
      >
        @for (img of report().photos; track $index) {
          <div
            [class]="
              'w-1.5 h-1.5 rounded-full transition-all ' +
              (currentIndex() === $index ? 'bg-white w-4' : 'bg-white/50')
            "
          ></div>
        }
      </div>
    }
  </div>
  <div class="flex gap-4 mb-6">
    <div class="flex-1 bg-slate-50 rounded-2xl p-3 text-center border border-slate-100">
      <p class="text-[9px] font-black text-gray-400 uppercase mb-1 tracking-widest">Fundo atual</p>
      <p class="text-sm font-black text-amber-600">‚≠ê {{ report().zelasAcumulados }}</p>
    </div>
    <div class="flex-1 bg-slate-50 rounded-2xl p-3 text-center border border-slate-100">
      <p class="text-[9px] font-black text-gray-400 uppercase mb-1 tracking-widest">Apoiadores</p>
      <p class="text-sm font-black text-blue-600">üë• {{ report().apoios }}</p>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-3">
    <button
      (click)="sponsor.emit(report().id)"
      class="py-4 rounded-2xl bg-amber-50 text-[10px] font-black uppercase text-amber-600 border border-amber-100 active:scale-95 transition-transform hover:bg-amber-100"
    >
      Patrocinar
    </button>
    <button
      (click)="support.emit(report().id)"
      class="py-4 rounded-2xl bg-blue-50 text-[10px] font-black uppercase text-blue-600 border border-blue-100 active:scale-95 transition-transform hover:bg-blue-100"
    >
      Apoiar Causa
    </button>
  </div>
</div>
